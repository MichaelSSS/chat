<h1>Write new message</h1>
<form class="form" method="post" name="messageForm" data-ng-submit="send(messageForm.$valid)">
    <div class="form-group">
        <label>Select a user</label>
        <select class="form-control" name="toUser" data-ng-model="formData.receiver" required>
            <option value="{{user.id}}" data-ng-repeat="user in users track by user.id">{{user.name}}</option>
        </select>
    </div>
    <div class="form-group">
        <label>Message</label>
        <textarea class="form-control" name="message" data-ng-model="formData.message" required></textarea>
    </div>
    <button type="submit" class="btn btn-success">Send</button>
</form>
<h1>Your incoming messages</h1>
<button class="btn btn-primary" data-ng-click="getMessages()">Refresh</button>
<table class="table">
    <thead>
        <tr><th>From</th><th></th><th>Message</th></tr>
    </thead>
    <tbody>
        <tr data-ng-repeat="message in messages">
            <td>{{message.author}}</td>
            <td>{{message.date}}</td>
            <td>{{message.message}}</td>
        </tr>
    </tbody>
</table>
